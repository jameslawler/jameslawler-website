<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Ghost Blog on GitHub Pages using GitHub Actions</title>
    <link rel="stylesheet" href="/assets/built/screen.css?v=59d4ab9cf7">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lora:ital,wght@0,400;0,700;1,400;1,700&family=Mulish:ital,wght@0,400;0,700;0,800;1,400;1,700&display=swap">

    <script>
        var siteUrl = 'https://www.jameslawler.com';
    </script>

    <script>
        var localTheme = localStorage.getItem('dawn_theme');
        switch (localTheme) {
            case 'dark':
                document.documentElement.classList.add('theme-dark');
                break;
            case 'light':
                document.documentElement.classList.add('theme-light');
                break;
            default:
                break;
        }
    </script>

    <link rel="icon" href="/favicon.png" type="image/png" />
    <link rel="canonical" href="https://www.jameslawler.com/blog/2021/11/27/ghost-blog-on-github-pages-using-github-actions/" />
    <meta name="referrer" content="no-referrer-when-downgrade" />
    <link rel="amphtml" href="https://www.jameslawler.com/blog/2021/11/27/ghost-blog-on-github-pages-using-github-actions/amp/" />
    
    <meta property="og:site_name" content="James Lawler" />
    <meta property="og:type" content="article" />
    <meta property="og:title" content="Ghost Blog on GitHub Pages using GitHub Actions" />
    <meta property="og:description" content="In this post I will share how I built up this website for free using Ghost CMS, GitHub Pages, and GitHub Actions. GhostGhost is a content management system for self publishing your own website - and it can be self hosted in a Docker container. To start this project you" />
    <meta property="og:url" content="https://www.jameslawler.com/blog/2021/11/27/ghost-blog-on-github-pages-using-github-actions/" />
    <meta property="article:published_time" content="2021-11-27T22:53:26.000Z" />
    <meta property="article:modified_time" content="2022-01-30T16:56:03.000Z" />
    <meta property="article:tag" content="Ghost" />
    <meta property="article:tag" content="GitHub Actions" />
    <meta property="article:tag" content="GitHub Pages" />
    <meta property="article:tag" content="Docker" />
    
    <meta property="article:publisher" content="https://www.facebook.com/ghost" />
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="Ghost Blog on GitHub Pages using GitHub Actions" />
    <meta name="twitter:description" content="In this post I will share how I built up this website for free using Ghost CMS, GitHub Pages, and GitHub Actions. GhostGhost is a content management system for self publishing your own website - and it can be self hosted in a Docker container. To start this project you" />
    <meta name="twitter:url" content="https://www.jameslawler.com/blog/2021/11/27/ghost-blog-on-github-pages-using-github-actions/" />
    <meta name="twitter:label1" content="Written by" />
    <meta name="twitter:data1" content="James Lawler" />
    <meta name="twitter:label2" content="Filed under" />
    <meta name="twitter:data2" content="Ghost, GitHub Actions, GitHub Pages, Docker" />
    <meta name="twitter:site" content="@ghost" />
    
    <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Article",
    "publisher": {
        "@type": "Organization",
        "name": "James Lawler",
        "url": "https://www.jameslawler.com/",
        "logo": {
            "@type": "ImageObject",
            "url": "https://www.jameslawler.com/favicon.png",
            "width": 60,
            "height": 60
        }
    },
    "author": {
        "@type": "Person",
        "name": "James Lawler",
        "image": {
            "@type": "ImageObject",
            "url": "https://www.jameslawler.com/content/images/2021/12/2297382.jpg",
            "width": 365,
            "height": 365
        },
        "url": "https://www.jameslawler.com/author/james/",
        "sameAs": []
    },
    "headline": "Ghost Blog on GitHub Pages using GitHub Actions",
    "url": "https://www.jameslawler.com/blog/2021/11/27/ghost-blog-on-github-pages-using-github-actions/",
    "datePublished": "2021-11-27T22:53:26.000Z",
    "dateModified": "2022-01-30T16:56:03.000Z",
    "keywords": "Ghost, GitHub Actions, GitHub Pages, Docker",
    "description": " \n\nIn this post I will share how I built up this website for free using Ghost CMS,\nGitHub Pages, and GitHub Actions.\n\nGhost\nGhost [https://ghost.org/] is a content management system for self publishing\nyour own website - and it can be self hosted in a Docker container. To start\nthis project you need to be running the Ghost Docker container on your\ndevelopment computer. This means you need to have Docker installed locally - and\nthere is a handy guide [https://docs.docker.com/get-docker/] on the D",
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "https://www.jameslawler.com/"
    }
}
    </script>

    <meta name="generator" content="Ghost 4.36" />
    <link rel="alternate" type="application/rss+xml" title="James Lawler" href="https://www.jameslawler.com/rss/" />
    
    <script defer src="/public/cards.min.js?v=59d4ab9cf7"></script><style>:root {--ghost-accent-color: #ee176d;}</style>
    <link rel="stylesheet" type="text/css" href="/public/cards.min.css?v=59d4ab9cf7">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.25.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>

<body class="post-template tag-ghost-tag tag-github-actions tag-github-pages tag-docker">
    <svg width="0" height="0" style="display: none;">
    <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" id="arrow-left">
        <path d="M26.667 14.667v2.667h-16L18 24.667l-1.893 1.893L5.547 16l10.56-10.56L18 7.333l-7.333 7.333h16z"></path>
    </symbol>
    <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" id="arrow-right">
        <path d="M5.333 14.667v2.667h16L14 24.667l1.893 1.893L26.453 16 15.893 5.44 14 7.333l7.333 7.333h-16z"></path>
    </symbol>
    <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" id="brightness-2">
        <path
            d="M13.333 2.667c-2.427 0-4.707.667-6.667 1.8 4 2.307 6.667 6.6 6.667 11.533s-2.667 9.227-6.667 11.533c1.96 1.133 4.24 1.8 6.667 1.8 7.36 0 13.333-5.973 13.333-13.333S20.693 2.667 13.333 2.667z">
        </path>
    </symbol>
    <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" id="chevron-left">
        <path d="M20.547 22.107L14.44 16l6.107-6.12L18.667 8l-8 8 8 8 1.88-1.893z"></path>
    </symbol>
    <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" id="chevron-right">
        <path d="M11.453 22.107L17.56 16l-6.107-6.12L13.333 8l8 8-8 8-1.88-1.893z"></path>
    </symbol>
    <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" id="circle-half-full">
        <path
            d="M16 2.667c-7.36 0-13.333 5.973-13.333 13.333s5.973 13.333 13.333 13.333c7.36 0 13.333-5.973 13.333-13.333s-5.973-13.333-13.333-13.333zM16 5.333c5.893 0 10.667 4.773 10.667 10.667s-4.773 10.667-10.667 10.667v-21.333z">
        </path>
    </symbol>
    <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" id="dots-horizontal">
        <path
            d="M21.333 16c0-1.473 1.194-2.667 2.667-2.667v0c1.473 0 2.667 1.194 2.667 2.667v0c0 1.473-1.194 2.667-2.667 2.667v0c-1.473 0-2.667-1.194-2.667-2.667v0zM13.333 16c0-1.473 1.194-2.667 2.667-2.667v0c1.473 0 2.667 1.194 2.667 2.667v0c0 1.473-1.194 2.667-2.667 2.667v0c-1.473 0-2.667-1.194-2.667-2.667v0zM5.333 16c0-1.473 1.194-2.667 2.667-2.667v0c1.473 0 2.667 1.194 2.667 2.667v0c0 1.473-1.194 2.667-2.667 2.667v0c-1.473 0-2.667-1.194-2.667-2.667v0z">
        </path>
    </symbol>
    <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" id="facebook-box">
        <path
            d="M6.667 4h18.667c1.467 0 2.667 1.2 2.667 2.667v18.667c0 1.467-1.2 2.667-2.667 2.667H6.667A2.675 2.675 0 0 1 4 25.334V6.667C4 5.2 5.2 4 6.667 4zM24 6.667h-3.333A4.672 4.672 0 0 0 16 11.334v3.333h-2.667v4H16V28h4v-9.333h4v-4h-4V12c0-.733.6-1.333 1.333-1.333H24v-4z">
        </path>
    </symbol>
    <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" id="facebook">
        <path
            d="M22.667 2.667V8H20c-.92 0-1.333 1.08-1.333 2v3.333h4v5.333h-4v10.667h-5.333V18.666h-4v-5.333h4V8a5.332 5.332 0 0 1 5.333-5.333h4z">
        </path>
    </symbol>
    <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" id="linkedin">
        <path
            d="M25.333 4c1.473 0 2.667 1.194 2.667 2.667v0 18.667c0 1.473-1.194 2.667-2.667 2.667v0h-18.667c-1.473 0-2.667-1.194-2.667-2.667v0-18.667c0-1.473 1.194-2.667 2.667-2.667v0h18.667zM24.667 24.667v-7.067c0-2.401-1.946-4.347-4.347-4.347v0c-1.133 0-2.453 0.693-3.093 1.733v-1.48h-3.72v11.16h3.72v-6.573c0-1.027 0.827-1.867 1.853-1.867 1.031 0 1.867 0.836 1.867 1.867v0 6.573h3.72zM9.173 11.413c1.237 0 2.24-1.003 2.24-2.24v0c0-1.24-1-2.253-2.24-2.253-1.244 0-2.253 1.009-2.253 2.253v0c0 1.24 1.013 2.24 2.253 2.24zM11.027 24.667v-11.16h-3.693v11.16h3.693z">
        </path>
    </symbol>
    <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 40 40" id="loader">
        <path opacity="0.3" fill="currentColor"
            d="M20.201,5.169c-8.254,0-14.946,6.692-14.946,14.946c0,8.255,6.692,14.946,14.946,14.946 s14.946-6.691,14.946-14.946C35.146,11.861,28.455,5.169,20.201,5.169z M20.201,31.749c-6.425,0-11.634-5.208-11.634-11.634 c0-6.425,5.209-11.634,11.634-11.634c6.425,0,11.633,5.209,11.633,11.634C31.834,26.541,26.626,31.749,20.201,31.749z" />
        <path fill="currentColor"
            d="M26.013,10.047l1.654-2.866c-2.198-1.272-4.743-2.012-7.466-2.012h0v3.312h0 C22.32,8.481,24.301,9.057,26.013,10.047z">
            <animateTransform attributeType="xml" attributeName="transform" type="rotate" from="0 20 20" to="360 20 20"
                dur="0.5s" repeatCount="indefinite" />
        </path>
    </symbol>
    <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" id="magnify">
        <path
            d="M12.667 4a8.667 8.667 0 0 1 8.667 8.667c0 2.147-.787 4.12-2.08 5.64l.36.36h1.053l6.667 6.667-2 2-6.667-6.667v-1.053l-.36-.36a8.689 8.689 0 0 1-5.64 2.08C7.88 21.334 4 17.454 4 12.667S7.88 4 12.667 4zm0 2.667c-3.333 0-6 2.667-6 6s2.667 6 6 6 6-2.667 6-6-2.667-6-6-6z">
        </path>
    </symbol>
    <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" id="menu-down">
        <path d="M9.333 13.333L16 20l6.667-6.667H9.334z"></path>
    </symbol>
    <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" id="rss-box">
        <path
            d="M6.667 4h18.667c1.467 0 2.667 1.2 2.667 2.667v18.667c0 1.467-1.2 2.667-2.667 2.667H6.667A2.675 2.675 0 0 1 4 25.334V6.667C4 5.2 5.2 4 6.667 4zM10 20c-1.107 0-2 .893-2 2s.893 2 2 2 2-.893 2-2-.893-2-2-2zm-2-6.667V16c4.413 0 8 3.587 8 8h2.667c0-5.893-4.773-10.667-10.667-10.667zM8 8v2.667c7.36 0 13.333 5.973 13.333 13.333H24c0-8.84-7.16-16-16-16z">
        </path>
    </symbol>
    <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" id="star">
        <path
            d="M16 23.027L24.24 28l-2.187-9.373 7.28-6.307-9.587-.827-3.747-8.827-3.747 8.827-9.587.827 7.267 6.307L7.759 28l8.24-4.973z">
        </path>
    </symbol>
    <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="table-of-contents">
        <path d="M3 9h14V7H3v2m0 4h14v-2H3v2m0 4h14v-2H3v2m16 0h2v-2h-2v2m0-10v2h2V7h-2m0 6h2v-2h-2v2z"></path>
    </symbol>
    <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" id="twitter-box">
        <path
            d="M6.667 4h18.667c1.467 0 2.667 1.2 2.667 2.667v18.667c0 1.467-1.2 2.667-2.667 2.667H6.667A2.675 2.675 0 0 1 4 25.334V6.667C4 5.2 5.2 4 6.667 4zm16.946 8.44c.64-.533 1.387-1.173 1.72-1.88-.547.28-1.2.453-1.92.547.667-.48 1.213-1.107 1.493-1.96-.693.373-1.4.693-2.28.853-2.067-2.493-7.013-.467-6.133 3.267-3.48-.213-5.6-1.787-7.36-3.72-1 1.627-.133 4.093 1.053 4.773-.613-.04-1.08-.227-1.52-.44.053 2.053 1.187 3.04 2.773 3.573a4.47 4.47 0 0 1-1.52.04c.493 1.427 1.52 2.32 3.28 2.507-1.2 1.013-3.413 1.72-5.2 1.44 1.533.973 3.28 1.747 5.707 1.64 5.88-.267 9.813-4.48 9.907-10.64z">
        </path>
    </symbol>
    <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" id="twitter">
        <path
            d="M29.947 8a11.423 11.423 0 0 1-3.28.92 5.738 5.738 0 0 0 2.507-3.173 11.52 11.52 0 0 1-3.627 1.4C24.494 6 23.014 5.334 21.334 5.334c-3.133 0-5.693 2.56-5.693 5.72 0 .453.053.893.147 1.307A16.261 16.261 0 0 1 4.001 6.388a5.663 5.663 0 0 0-.773 2.867c0 1.987 1 3.747 2.547 4.747-.947 0-1.827-.267-2.6-.667v.04a5.724 5.724 0 0 0 4.587 5.613 5.644 5.644 0 0 1-2.574.093c.72 2.253 2.813 3.933 5.333 3.973-1.947 1.547-4.413 2.453-7.107 2.453-.453 0-.907-.027-1.36-.08A16.19 16.19 0 0 0 10.827 28c10.507 0 16.28-8.72 16.28-16.28 0-.253 0-.493-.013-.747A11.42 11.42 0 0 0 29.947 8z">
        </path>
    </symbol>
    <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" id="white-balance-sunny">
        <path
            d="M4.733 24.72l1.88 1.88 2.4-2.387L7.12 22.32zm9.934 5.213h2.667V26h-2.667zM16 7.333c-4.413 0-8 3.587-8 8s3.587 8 8 8 8-3.587 8-8c0-4.427-3.587-8-8-8zm10.667 9.334h4V14h-4zm-3.68 7.546l2.4 2.387 1.88-1.88-2.387-2.4zm4.28-18.266l-1.88-1.88-2.4 2.387 1.893 1.893zM17.333.733h-2.667v3.933h2.667zM5.333 14h-4v2.667h4zm3.68-7.547l-2.4-2.387-1.88 1.88 2.387 2.4 1.893-1.893z">
        </path>
    </symbol>
    <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" id="window-close">
        <path
            d="M17.947 16l7.387 7.387v1.947h-1.947L16 17.947l-7.387 7.387H6.666v-1.947L14.053 16 6.666 8.613V6.666h1.947L16 14.053l7.387-7.387h1.947v1.947L17.947 16z">
        </path>
    </symbol>
</svg>
    <div class="site">
        <header class="site-header container">
    <div class="header-left">
        <a class="logo" href="https://www.jameslawler.com">
                <span class="logo-text">James Lawler</span>
        </a>
    </div>
        <nav class="main-nav hidden-xs hidden-sm hidden-md">
                <a class="menu-item menu-item-home"
        href="https://www.jameslawler.com/">Home</a>
    <a class="menu-item menu-item-blog"
        href="https://www.jameslawler.com/blog/">Blog</a>
    <a class="menu-item menu-item-projects"
        href="https://www.jameslawler.com/projects/">Projects</a>
    <a class="menu-item menu-item-about"
        href="https://www.jameslawler.com/about/">About</a>

        </nav>

        <button class="button-icon hidden-lg hidden-xl js-modal" data-modal="search" aria-label="Search">
            <svg class="icon">
                <use xlink:href="#magnify"></use>
            </svg>
        </button>
        <div class="burger hidden-lg hidden-xl">
            <div class="burger-bar"></div>
            <div class="burger-bar"></div>
        </div>

        <div class="mobile-menu hidden-lg hidden-xl">
            <div class="container">
                <nav class="mobile-nav">
                        <a class="menu-item menu-item-home"
        href="https://www.jameslawler.com/">Home</a>
    <a class="menu-item menu-item-blog"
        href="https://www.jameslawler.com/blog/">Blog</a>
    <a class="menu-item menu-item-projects"
        href="https://www.jameslawler.com/projects/">Projects</a>
    <a class="menu-item menu-item-about"
        href="https://www.jameslawler.com/about/">About</a>

                </nav>
            </div>
        </div>
    <div class="header-right hidden-xs hidden-sm hidden-md">
    </div>
</header>

        <header class="sticky">
            <div class="sticky-title">Ghost Blog on GitHub Pages using GitHub Actions</div>
            <button class="button-icon sticky-toc-button" aria-label="Table of Contents">
                <svg class="icon">
                    <use xlink:href="#table-of-contents"></use>
                </svg>
                <div class="sticky-toc"></div>
            </button>
            <div class="sticky-track">
                <div class="sticky-progress"></div>
            </div>
        </header>
        <div class="site-content">
            
<div class="content-area">
    <main class="site-main">
            <article class="single post tag-ghost-tag tag-github-actions tag-github-pages tag-docker no-image">
    <header class="single-header kg-canvas">
            <div class="single-meta">
                <span class="single-meta-item single-meta-date">
                    <time datetime="2021-11-27">
                        Nov 27, 2021
                    </time>
                </span>
                <span class="single-meta-item single-meta-length">
                    4 min read
                </span>
                    <span class="single-meta-item single-meta-tag">
                        <a class="post-tag post-tag-ghost-tag" href="/tag/ghost-tag/">
                            Ghost
                        </a>
                    </span>
            </div>
        <h1 class="single-title">Ghost Blog on GitHub Pages using GitHub Actions</h1>
    </header>
    <div class="single-content gh-content kg-canvas">
        <!--kg-card-begin: markdown--><p><img src="https://img.shields.io/badge/Platform-Ghost-informational?style=flat&amp;logo=ghost&amp;logoColor=white&amp;color=2bbc8a" alt="badge" loading="lazy"> <img src="https://img.shields.io/badge/Platform-Docker-informational?style=flat&amp;logo=docker&amp;logoColor=white&amp;color=2bbc8a" alt="badge" loading="lazy"> <img src="https://img.shields.io/badge/Platform-GitHub_Pages-informational?style=flat&amp;logo=githubpages&amp;logoColor=white&amp;color=2bbc8a" alt="badge" loading="lazy"> <img src="https://img.shields.io/badge/CI/CD-GitHub_Actions-informational?style=flat&amp;logo=githubactions&amp;logoColor=white&amp;color=2bbc8a" alt="badge" loading="lazy"></p>
<!--kg-card-end: markdown--><p>In this post I will share how I built up this website for free using Ghost CMS, GitHub Pages, and GitHub Actions.</p><h3 id="ghost">Ghost</h3><p><a href="https://ghost.org/">Ghost</a> is a content management system for self publishing your own website - and it can be self hosted in a Docker container. To start this project you need to be running the Ghost Docker container on your development computer. This means you need to have Docker installed locally - and there is a <a href="https://docs.docker.com/get-docker/">handy guide</a> on the Docker website for the main operating systems.</p><p>Before starting up the Ghost Docker container you will need a directory where you can store the Ghost content (static assets, SQL database, etc). For this post I setup a <a href="https://github.com/jameslawlercom/2021-11-27-ghost-blog-on-github-pages-using-github-actions">new repository</a> in GitHub to store the content so it would stay under version control.</p><p>To start the Ghost Docker container on your local machine, open a console and navigate to the directory you have setup with a GitHub repository and execute the following command.</p><blockquote><code>docker run -d -p 2368:2368 -v content:/var/lib/ghost/content ghost:alpine</code></blockquote><p>This command will run up the latest version of Ghost using the <a href="https://hub.docker.com/_/ghost">alpine Docker image</a>. It will run on the standard <code>2368</code> port and mount the current <code>content</code>directory into the Docker container at <code>/var/lib/ghost/content</code>. This means that any changes to the Ghost instance (new posts, theme, etc) will be exposed to the current working folder and can be committed to GitHub.</p><p>After running the command, you should be able to access the locally running version of Ghost at <code>http:// localhost:2368/</code>. At first you will need to setup an account (only saved in your local database), and then you will be able to add new pages, posts, and change the navigation settings etc. You will also be able to configure the theme for your website.</p><h3 id="github-workflow">GitHub Workflow</h3><p>Once there is a locally running instance of Ghost, the next step is to get it running in GitHub Pages. The key to do this is using GitHub Actions with the help of a GitHub workflow. To setup a GitHub workflow you need to add a <code>.github\workflows</code> folder. Each GitHub workflow is just a <code>yaml</code> file within this directory.</p><pre><code class="language-yaml">name: Deploy Ghost and Generate Static Site

on:
  push:
    branches: [main]

jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - name: Check out Model Repository
        uses: actions/checkout@v2
      - name: Run Ghost
        run: docker run -d -p 2368:2368 -v ${{ github.workspace }}/content:/var/lib/ghost/content ghost:alpine
      - name: Sleep for 10 seconds
        uses: jakejarvis/wait-action@master
        with:
          time: "10s"
      - name: Install ghost-static-site-generator
        run: npm install -g ghost-static-site-generator
      - name: Generate Static Site
        run: gssg --url https://jameslawlercom.github.io --subDir 2021-11-27-ghost-blog-on-github-pages-using-github-actions
      - name: Deploy to Github Pages
        uses: JamesIves/github-pages-deploy-action@4.1.7
        with:
          branch: gh-pages
          folder: static
</code></pre><p>In the first section, the trigger is configured. This means that this GitHub workflow will run when a commit is made on the <code>main</code> branch.</p><pre><code class="language-yml">on:
  push:
    branches: [main]</code></pre><p>The scripts section defines the different scripts that will run one after the other during the GitHub workflow. The first simply checks out the latest version of the code to the build instance.</p><pre><code class="language-yml">jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - name: Check out Model Repository
        uses: actions/checkout@v2</code></pre><p>The next script is similar to the command we use to run Ghost locally. This will actually run up the instance of Ghost on the GitHub Actions build virtual machine. The main difference here is the use of the build parameter <code>${{ github.workspace }}</code> to access the path to the working directory of the build folder.</p><pre><code class="language-yml">- name: Run Ghost
  run: docker run -d -p 2368:2368 -v ${{ github.workspace }}/content:/var/lib/ghost/content ghost:alpine</code></pre><p>As Ghost can take a few seconds to start up, a wait script is added to pause the process for 10 seconds.</p><pre><code class="language-yml">- name: Sleep for 10 seconds
  uses: jakejarvis/wait-action@master
  with:
    time: "10s"</code></pre><p>Once enough time has passed, the next script installs globally a npm script that can crawl the Ghost instance and generate a static version of the website.</p><pre><code class="language-yml">- name: Install ghost-static-site-generator
  run: npm install -g ghost-static-site-generator</code></pre><p>The next script will run this tool to do the crawl and generate a static version of the website into a folder called <code>static</code>. The <code>--url</code> property is used to specify the base domain of the static website (in this case a GitHub Pages site). The <code>--subDir</code> property is used to specify a sub folder of the static website (in this case the name of the GitHub Pages project name).</p><pre><code class="language-yml">- name: Generate Static Site
  run: gssg --url https://jameslawlercom.github.io --subDir 2021-11-27-ghost-blog-on-github-pages-using-github-actions</code></pre><p>Finally the last script will deploy the <code>static</code> folder which contains our website to the <code>gh-pages</code> branch of the repository so that it is available on GitHub Pages.</p><pre><code class="language-yml">- name: Deploy to Github Pages
  uses: JamesIves/github-pages-deploy-action@4.1.7
  with:
    branch: gh-pages
    folder: static</code></pre><h3 id="github-pages">GitHub Pages</h3><p>The last stage of this project is to enable GitHub Pages on your repository. Â This is done via the <code>Pages</code> tab in the <a href="https://github.com/jameslawlercom/2021-11-27-ghost-blog-on-github-pages-using-github-actions/settings/pages">repository settings</a>.</p><figure class="kg-card kg-image-card"><img src="https://www.jameslawler.com/content/images/2022/01/github-pages.png" class="kg-image" alt loading="lazy" width="1569" height="603" srcset="https://www.jameslawler.com/content/images/size/w600/2022/01/github-pages.png 600w, https://www.jameslawler.com/content/images/size/w1000/2022/01/github-pages.png 1000w, https://www.jameslawler.com/content/images/2022/01/github-pages.png 1569w" sizes="(min-width: 720px) 720px"></figure><h3 id="summary">Summary</h3><p>After updating your blog using the Ghost admin website and push push to the main branch the changes, the ghost blog will be started in a docker container on the GitHub Actions server, a static version will be crawled automatically and then saved to the GitHub pages branch of the repository. A few minutes later, your website will be running on your GitHub Pages website.</p><p>There is a demonstration repository available <a href="https://github.com/jameslawlercom/2021-11-27-ghost-blog-on-github-pages-using-github-actions">here</a> which demonstrates the <a href="https://github.com/jameslawlercom/2021-11-27-ghost-blog-on-github-pages-using-github-actions/actions">GitHub Actions</a> and <a href="https://jameslawlercom.github.io/2021-11-27-ghost-blog-on-github-pages-using-github-actions/">GitHub Pages</a> project. </p>
    </div>
        <footer class="single-footer container medium">
            <div class="single-footer-left">
            </div>
            <div class="single-footer-middle">
                    <div class="single-footer-top">
                        <h3 class="single-footer-title">Published by:</h3>
                        <div class="author-list">
                                <div class="author-image-placeholder u-placeholder square">
                                    <a href="/author/james/" title="James Lawler">
                                        <img class="author-image lazyload u-object-fit"
                                            data-srcset="/content/images/size/w150/2021/12/2297382.jpg"
                                            src="/content/images/size/w150/2021/12/2297382.jpg"
                                            srcset="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="
                                            alt="James Lawler">
                                    </a>
                                </div>
                        </div>
                    </div>
                    <div class="single-footer-bottom">
                        <div class="share">
                            <a class="share-link share-link-facebook" href="https://www.facebook.com/sharer.php?u=https://www.jameslawler.com/blog/2021/11/27/ghost-blog-on-github-pages-using-github-actions/" target="_blank" rel="noopener noreferrer">
                                <svg class="icon icon-facebook">
                                    <use xlink:href="#facebook"></use>
                                </svg>
                                Share
                            </a>
                            <a class="share-link share-link-twitter" href="https://twitter.com/intent/tweet?url=https://www.jameslawler.com/blog/2021/11/27/ghost-blog-on-github-pages-using-github-actions/&text=Ghost%20Blog%20on%20GitHub%20Pages%20using%20GitHub%20Actions" target="_blank" rel="noopener noreferrer">
                                <svg class="icon icon-twitter">
                                    <use xlink:href="#twitter"></use>
                                </svg>
                                Tweet
                            </a>
                        </div>
                    </div>
            </div>
            <div class="single-footer-right">
                    <div class="navigation navigation-next">
                        <a class="navigation-link" href="/blog/2021/12/04/custom-domain-for-static-ghost-blog-on-github-pages/"
                            aria-label="Next post">
                            <svg class="icon navigation-icon">
                                <use xlink:href="#arrow-right"></use>
                            </svg>
                        </a>
                    </div>
            </div>
        </footer>
</article>                        <section class="related-wrapper">
            <div class="container medium">
                <h3 class="related-title">You might also like...</h3>
                <div class="related-feed">
                        <article class="feed post no-image">
    <div class="feed-calendar">
        <div class="feed-calendar-month">
            Dec
        </div>
        <div class="feed-calendar-day">
            17
        </div>
    </div>
    <h2 class="feed-title">Private Repository to Build and Deploy Ghost Blog</h2>
    <div class="feed-right">
        <svg class="icon feed-visibility feed-visibility-public">
            <use xlink:href="#star"></use>
        </svg>
        <div class="feed-length">
            2 min read
        </div>
    </div>
    <svg class="icon feed-icon">
        <use xlink:href="#chevron-right"></use>
    </svg>
    <a class="u-permalink" href="/blog/2021/12/17/private-repository-to-build-and-deploy-ghost-blog/" aria-label="Private Repository to Build and Deploy Ghost Blog"></a>
</article>                        <article class="feed post no-image">
    <div class="feed-calendar">
        <div class="feed-calendar-month">
            Dec
        </div>
        <div class="feed-calendar-day">
            11
        </div>
    </div>
    <h2 class="feed-title">Scheduled Posts with Ghost and GitHub Actions</h2>
    <div class="feed-right">
        <svg class="icon feed-visibility feed-visibility-public">
            <use xlink:href="#star"></use>
        </svg>
        <div class="feed-length">
            2 min read
        </div>
    </div>
    <svg class="icon feed-icon">
        <use xlink:href="#chevron-right"></use>
    </svg>
    <a class="u-permalink" href="/blog/2021/12/11/scheduled-posts-with-ghost-and-github-actions/" aria-label="Scheduled Posts with Ghost and GitHub Actions"></a>
</article>                        <article class="feed post no-image">
    <div class="feed-calendar">
        <div class="feed-calendar-month">
            Dec
        </div>
        <div class="feed-calendar-day">
            04
        </div>
    </div>
    <h2 class="feed-title">Custom Domain for Static Ghost Blog on GitHub Pages</h2>
    <div class="feed-right">
        <svg class="icon feed-visibility feed-visibility-public">
            <use xlink:href="#star"></use>
        </svg>
        <div class="feed-length">
            2 min read
        </div>
    </div>
    <svg class="icon feed-icon">
        <use xlink:href="#chevron-right"></use>
    </svg>
    <a class="u-permalink" href="/blog/2021/12/04/custom-domain-for-static-ghost-blog-on-github-pages/" aria-label="Custom Domain for Static Ghost Blog on GitHub Pages"></a>
</article>                </div>
            </div>
        </section>
                </main>
</div>
        </div>
        <footer class="site-footer container">
    <div class="social">
            <a class="social-item social-item-facebook"
                href="https://www.facebook.com/ghost" target="_blank"
                rel="noopener noreferrer" aria-label="Facebook">
                <svg class="icon">
                    <use xlink:href="#facebook-box"></use>
                </svg>
            </a>
            <a class="social-item social-item-twitter"
                href="https://twitter.com/ghost" target="_blank"
                rel="noopener noreferrer" aria-label="Twitter">
                <svg class="icon">
                    <use xlink:href="#twitter-box"></use>
                </svg>
            </a>
        <a class="social-item social-item-rss"
            href="https://feedly.com/i/subscription/feed/https://www.jameslawler.com/rss/"
            target="_blank" rel="noopener noreferrer" aria-label="RSS">
            <svg class="icon">
                <use xlink:href="#rss-box"></use>
            </svg>
        </a>
    </div>

    <div class="copyright">
        Powered by <a href="https://ghost.org/" target="_blank"
            rel="noopener noreferrer">Ghost</a>
    </div>

    <nav class="footer-nav">
            <a class="menu-item menu-item-github"
        href="https://www.github.com/jameslawler">GitHub</a>

        <a class="menu-item js-theme" href="#" data-system="System theme" data-dark="Dark theme" data-light="Light theme">
            <svg class="icon theme-icon theme-icon-system">
                <use xlink:href="#circle-half-full"></use>
            </svg>
            <svg class="icon theme-icon theme-icon-dark">
                <use xlink:href="#brightness-2"></use>
            </svg>
            <svg class="icon theme-icon theme-icon-light">
                <use xlink:href="#white-balance-sunny"></use>
            </svg>
            <span class="theme-text">System theme</span>
        </a>
    </nav>
</footer>        <div class="modal-overlay">
    <div class="modal modal-search">
        <div class="form-wrapper">
            <input class="modal-input search-input" type="search" placeholder="Enter keyword...">
            <button class="form-button search-button" aria-label="Search">
                <svg class="icon icon-search">
                    <use xlink:href="#magnify"></use>
                </svg>
                <svg class="icon icon-close">
                    <use xlink:href="#window-close"></use>
                </svg>
            </button>
        </div>
                <div class="popular-wrapper">
                    <h4 class="popular-title">Popular tags</h4>
                    <div class="popular-feed">
                            <a class="popular" href="/tag/ghost-tag/">Ghost</a>
                            <a class="popular" href="/tag/github-pages/">GitHub Pages</a>
                            <a class="popular" href="/tag/github-actions/">GitHub Actions</a>
                            <a class="popular" href="/tag/docker/">Docker</a>
                    </div>
                </div>
        <div class="search-result"></div>
    </div>
    <button class="button-icon modal-close" aria-label="Close">
        <svg class="icon icon-close">
            <use xlink:href="#window-close"></use>
        </svg>
    </button>
</div>        <!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">
    <!-- Background of PhotoSwipe.
        It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>

    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">
        <!-- Container that holds slides.
          PhotoSwipe keeps only 3 of them in the DOM to save memory.
          Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">
            <div class="pswp__top-bar">
                <!--  Controls are self-explanatory. Order can be changed. -->
                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
                <button class="pswp__button pswp__button--share" title="Share"></button>
                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                <!-- Preloader demo https://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)"></button>
            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>
        </div>
    </div>
</div>    </div>

    <script
        src="https://code.jquery.com/jquery-3.5.1.min.js"
        integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
        crossorigin="anonymous">
    </script>
    <script src="/assets/built/main.min.js?v=59d4ab9cf7"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.25.0/prism.min.js" integrity="sha512-hpZ5pDCF2bRCweL5WoA0/N1elet1KYL5mx3LP555Eg/0ZguaHawxNvEjF6O3rufAChs16HVNhEc6blF/rZoowQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
</body>

</html>